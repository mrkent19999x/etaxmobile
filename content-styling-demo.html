<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üé® DEMO CH·ªàNH S·ª¨A STYLING - ETAX ADMIN</title>
  
  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  
  <!-- Rich Text Editor -->
  <script src="js/etax-rich-editor.js"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', 'Tahoma', 'Microsoft Sans Serif', 'Arial', sans-serif;
    }

    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .demo-container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }

    .demo-header {
      background: linear-gradient(135deg, #b71c1c 0%, #8e0000 100%);
      color: white;
      padding: 20px 30px;
      text-align: center;
    }

    .demo-header h1 {
      font-size: 24px;
      margin-bottom: 10px;
    }

    .demo-header p {
      opacity: 0.9;
      font-size: 14px;
    }

    .demo-layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      min-height: 700px;
    }

    .control-panel {
      background: #f8f9fa;
      padding: 30px;
      border-right: 1px solid #e0e0e0;
    }

    .preview-panel {
      padding: 30px;
      background: white;
    }

    .control-section {
      margin-bottom: 25px;
      padding: 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .control-section h3 {
      color: #b71c1c;
      margin-bottom: 15px;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .control-group {
      margin-bottom: 15px;
    }

    .control-label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
      color: #333;
      font-size: 13px;
    }

    .control-input {
      width: 100%;
      padding: 10px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      transition: all 0.3s;
    }

    .control-input:focus {
      outline: none;
      border-color: #b71c1c;
      box-shadow: 0 0 0 3px rgba(183, 28, 28, 0.1);
    }

    .color-palette {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      margin-top: 8px;
    }

    .color-option {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      border: 2px solid #e0e0e0;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 12px;
    }

    .color-option:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .color-option.active {
      border-color: #333;
      transform: scale(1.1);
    }

    .size-buttons {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      margin-top: 8px;
    }

    .size-btn {
      padding: 8px;
      background: #e0e0e0;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      transition: all 0.3s;
      font-weight: 600;
    }

    .size-btn:hover {
      background: #b71c1c;
      color: white;
    }

    .size-btn.active {
      background: #b71c1c;
      color: white;
    }

    .apply-btn {
      width: 100%;
      background: linear-gradient(135deg, #b71c1c 0%, #dc3545 100%);
      color: white;
      border: none;
      padding: 12px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 15px;
    }

    .apply-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(183, 28, 28, 0.3);
    }

    .preview-section {
      margin-bottom: 30px;
    }

    .preview-section h3 {
      color: #333;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .preview-frame {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 20px;
      border: 2px dashed #e0e0e0;
      min-height: 200px;
      position: relative;
    }

    .user-content {
      text-align: center;
      padding: 40px 20px;
    }

    .user-name {
      font-size: 18px;
      font-weight: 700;
      color: #333;
      margin-bottom: 10px;
      transition: all 0.3s ease;
    }

    .user-info {
      color: #666;
      font-size: 14px;
      margin-bottom: 20px;
    }

    .etax-card-preview {
      background: white;
      border-radius: 14px;
      padding: 20px;
      margin: 15px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border: 1px solid #f0f0f0;
    }

    .mobile-preview {
      max-width: 375px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .mobile-header {
      background: linear-gradient(135deg, #b71c1c 0%, #8e0000 100%);
      color: white;
      padding: 15px;
      text-align: center;
      font-weight: 600;
    }

    .reset-btn {
      background: #6c757d;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      font-size: 12px;
    }

    .spacing-controls {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    @media (max-width: 768px) {
      .demo-layout {
        grid-template-columns: 1fr;
      }
      
      .control-panel {
        border-right: none;
        border-bottom: 1px solid #e0e0e0;
      }
    }
  </style>
</head>
<body>
  <div class="demo-container">
    <div class="demo-header">
      <h1>üé® DEMO CH·ªàNH S·ª¨A STYLING N·ªòI DUNG</h1>
      <p>Qu·∫£n l√Ω giao di·ªán ng∆∞·ªùi d√πng eTax Mobile t·ª´ Admin Panel</p>
    </div>

    <div class="demo-layout">
      <!-- Control Panel -->
      <div class="control-panel">
        <div class="control-section">
          <h3>üé® M√†u s·∫Øc ch·ªØ</h3>
          <label class="control-label">Ch·ªçn m√†u cho t√™n ng∆∞·ªùi d√πng:</label>
          <div class="color-palette">
            <div class="color-option" style="background: #333;" onclick="changeColor('#333')" data-color="#333">A</div>
            <div class="color-option" style="background: #b71c1c;" onclick="changeColor('#b71c1c')" data-color="#b71c1c">A</div>
            <div class="color-option" style="background: #ffc107;" onclick="changeColor('#ffc107')" data-color="#ffc107">A</div>
            <div class="color-option" style="background: #28a745;" onclick="changeColor('#28a745')" data-color="#28a745">A</div>
            <div class="color-option" style="background: #17a2b8;" onclick="changeColor('#17a2b8')" data-color="#17a2b8">A</div>
            <div class="color-option" style="background: #6f42c1;" onclick="changeColor('#6f42c1')" data-color="#6f42c1">A</div>
            <div class="color-option" style="background: #fd7e14;" onclick="changeColor('#fd7e14')" data-color="#fd7e14">A</div>
            <div class="color-option" style="background: #e83e8c;" onclick="changeColor('#e83e8c')" data-color="#e83e8c">A</div>
          </div>
          <div class="control-group">
            <label class="control-label">Ho·∫∑c nh·∫≠p m√£ m√†u t√πy ch·ªânh:</label>
            <input type="color" class="control-input" id="customColor" onchange="changeColor(this.value)">
          </div>
        </div>

        <div class="control-section">
          <h3>üìè K√≠ch th∆∞·ªõc ch·ªØ</h3>
          <div class="size-buttons">
            <button class="size-btn" onclick="changeSize('14px')" data-size="14px">Nh·ªè</button>
            <button class="size-btn active" onclick="changeSize('18px')" data-size="18px">V·ª´a</button>
            <button class="size-btn" onclick="changeSize('24px')" data-size="24px">L·ªõn</button>
            <button class="size-btn" onclick="changeSize('32px')" data-size="32px">R·∫•t l·ªõn</button>
            <button class="size-btn" onclick="changeSize('40px')" data-size="40px">Kh·ªïng l·ªì</button>
            <button class="size-btn" onclick="changeSize('48px')" data-size="48px">Si√™u to</button>
          </div>
          <div class="control-group">
            <label class="control-label">K√≠ch th∆∞·ªõc t√πy ch·ªânh (px):</label>
            <input type="range" class="control-input" min="12" max="60" value="18" oninput="changeSize(this.value + 'px')">
          </div>
        </div>

        <div class="control-section">
          <h3>üìê Kho·∫£ng c√°ch</h3>
          <div class="spacing-controls">
            <div class="control-group">
              <label class="control-label">Margin tr√™n/d∆∞·ªõi:</label>
              <input type="range" class="control-input" min="0" max="50" value="10" id="marginY" oninput="updateSpacing()">
            </div>
            <div class="control-group">
              <label class="control-label">Margin tr√°i/ph·∫£i:</label>
              <input type="range" class="control-input" min="0" max="50" value="20" id="marginX" oninput="updateSpacing()">
            </div>
            <div class="control-group">
              <label class="control-label">Padding n·ªôi dung:</label>
              <input type="range" class="control-input" min="0" max="40" value="10" id="padding" oninput="updateSpacing()">
            </div>
            <div class="control-group">
              <label class="control-label">Kho·∫£ng c√°ch d√≤ng:</label>
              <input type="range" class="control-input" min="1" max="3" step="0.1" value="1.2" id="lineHeight" oninput="updateSpacing()">
            </div>
          </div>
        </div>

        <div class="control-section">
          <h3>‚ú® Hi·ªáu ·ª©ng</h3>
          <div class="control-group">
            <label class="control-label">Font weight:</label>
            <select class="control-input" onchange="changeFontWeight(this.value)">
              <option value="400">B√¨nh th∆∞·ªùng</option>
              <option value="600">Semi-bold</option>
              <option value="700" selected>ƒê·∫≠m</option>
              <option value="800">R·∫•t ƒë·∫≠m</option>
            </select>
          </div>
          <div class="control-group">
            <label class="control-label">Text decoration:</label>
            <select class="control-input" onchange="changeTextDecoration(this.value)">
              <option value="none" selected>Kh√¥ng</option>
              <option value="underline">G·∫°ch d∆∞·ªõi</option>
              <option value="overline">G·∫°ch tr√™n</option>
              <option value="line-through">G·∫°ch ngang</option>
            </select>
          </div>
          <div class="control-group">
            <label class="control-label">Text shadow:</label>
            <select class="control-input" onchange="changeTextShadow(this.value)">
              <option value="none" selected>Kh√¥ng c√≥ b√≥ng</option>
              <option value="2px 2px 4px rgba(0,0,0,0.3)">B√≥ng nh·∫π</option>
              <option value="3px 3px 6px rgba(0,0,0,0.5)">B√≥ng v·ª´a</option>
              <option value="5px 5px 10px rgba(0,0,0,0.7)">B√≥ng ƒë·∫≠m</option>
            </select>
          </div>
        </div>

        <button class="apply-btn" onclick="saveToFirebase()">
          üíæ L∆∞u thay ƒë·ªïi v√†o h·ªá th·ªëng
        </button>
        <button class="reset-btn" onclick="resetStyles()">
          üîÑ Reset v·ªÅ m·∫∑c ƒë·ªãnh
        </button>
      </div>

      <!-- Preview Panel -->
      <div class="preview-panel">
        <div class="preview-section">
          <h3>üëÅÔ∏è Xem tr∆∞·ªõc tr√™n Mobile</h3>
          <div class="mobile-preview">
            <div class="mobile-header">
              üèõÔ∏è Th√¥ng tin nghƒ©a v·ª• thu·∫ø
            </div>
            <div class="user-content">
              <div class="user-name" id="previewUserName">
                NGUY·ªÑN TRUNG NGHƒ®A
              </div>
              <div class="user-info">
                MST: 001095026798
              </div>
              <div class="etax-card-preview">
                <h4 style="color: #b71c1c; margin-bottom: 10px;">üìã Th√¥ng tin chi ti·∫øt</h4>
                <p style="margin: 5px 0; font-size: 13px;"><strong>Lo·∫°i nghƒ©a v·ª•:</strong> Thu t·ª´ ƒë·∫•t t·∫°i ƒë√¥ th·ªã</p>
                <p style="margin: 5px 0; font-size: 13px;"><strong>S·ªë ti·ªÅn:</strong> 519,042 VND</p>
                <p style="margin: 5px 0; font-size: 13px;"><strong>Ghi ch√∫ x·ª≠ l√Ω:</strong> N·ªôp thu·∫ø tra so√°t</p>
              </div>
            </div>
          </div>
        </div>

        <div class="preview-section">
          <h3>üíª Xem tr∆∞·ªõc tr√™n Desktop/Tablet</h3>
          <div class="preview-frame">
            <div class="etax-card-preview">
              <div style="text-align: center; padding: 20px;">
                <div class="user-name" id="previewUserNameDesktop">
                  NGUY·ªÑN TRUNG NGHƒ®A
                </div>
                <div class="user-info">
                  M√£ s·ªë thu·∫ø: 001095026798 | Ph∆∞·ªùng Vƒ©nh Tuy - Th·ªß ƒë√¥ s·ªë 3 Th√†nh ph·ªë H√† N·ªôi
                </div>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 15px;">
                  <h4 style="color: #b71c1c; margin-bottom: 10px;">üìä T√¨nh h√¨nh thu·∫ø</h4>
                  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; text-align: left;">
                    <div>
                      <strong>C√°c kho·∫£n c√≤n ph·∫£i n·ªôp:</strong><br>
                      1. C√°c kho·∫£n thu·∫ø, ti·ªÅn ph·∫°t<br>
                      2. C√°c kho·∫£n ti·ªÅn ch·∫≠m n·ªôp<br>
                      3. C√°c kho·∫£n thu kh√°c thu·ªôc NSNN
                    </div>
                    <div>
                      <strong>Kho·∫£n thu·∫ø ƒëang ch·ªù x·ª≠ l√Ω:</strong><br>
                      N·ªôp thu·∫ø tra so√°t<br>
                      <span style="color: #b71c1c; font-weight: bold;">519,042 VND</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="preview-section">
          <h3>üì± Responsive Preview</h3>
          <div id="responsivePreview" style="background: #f8f9fa; padding: 20px; border-radius: 12px; text-align: center;">
            <div class="user-name" id="previewUserNameResponsive">
              NGUY·ªÑN TRUNG NGHƒ®A
            </div>
            <p style="color: #666; margin-top: 10px;">
              Content s·∫Ω t·ª± ƒë·ªông adapt theo k√≠ch th∆∞·ªõc m√†n h√¨nh
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyD_rJgBFgBulheVenQUE2KXr4PBpSpTCxw",
      authDomain: "etax-7fbf8.firebaseapp.com",
      databaseURL: "https://etax-7fbf8-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "etax-7fbf8",
      storageBucket: "etax-7fbf8.appspot.com",
      messagingSenderId: "1030026724634",
      appId: "1:1030026724634:web:d76f5f9dad43bad6fd58a3",
      measurementId: "G-YS5DLECJE6"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let currentStyles = {
      color: '#333',
      fontSize: '18px',
      marginY: '10px',
      marginX: '20px', 
      padding: '10px',
      lineHeight: '1.2',
      fontWeight: '700',
      textDecoration: 'none',
      textShadow: 'none'
    };

    // üé® Change color
    function changeColor(color) {
      currentStyles.color = color;
      updatePreview();
      
      // Update active color
      document.querySelectorAll('.color-option').forEach(el => el.classList.remove('active'));
      document.querySelector(`[data-color="${color}"]`)?.classList.add('active');
    }

    // üìè Change size
    function changeSize(size) {
      currentStyles.fontSize = size;
      updatePreview();
      
      // Update active size
      document.querySelectorAll('.size-btn').forEach(el => el.classList.remove('active'));
      document.querySelector(`[data-size="${size}"]`)?.classList.add('active');
    }

    // üìê Update spacing
    function updateSpacing() {
      currentStyles.marginY = document.getElementById('marginY').value + 'px';
      currentStyles.marginX = document.getElementById('marginX').value + 'px';
      currentStyles.padding = document.getElementById('padding').value + 'px';
      currentStyles.lineHeight = document.getElementById('lineHeight').value;
      updatePreview();
    }

    // ‚ú® Change font weight
    function changeFontWeight(weight) {
      currentStyles.fontWeight = weight;
      updatePreview();
    }

    // ‚ú® Change text decoration
    function changeTextDecoration(decoration) {
      currentStyles.textDecoration = decoration;
      updatePreview();
    }

    // ‚ú® Change text shadow
    function changeTextShadow(shadow) {
      currentStyles.textShadow = shadow;
      updatePreview();
    }

    // üëÅÔ∏è Update preview
    function updatePreview() {
      const style = `
        color: ${currentStyles.color};
        font-size: ${currentStyles.fontSize};
        margin: ${currentStyles.marginY} ${currentStyles.marginX};
        padding: ${currentStyles.padding};
        line-height: ${currentStyles.lineHeight};
        font-weight: ${currentStyles.fontWeight};
        text-decoration: ${currentStyles.textDecoration};
        text-shadow: ${currentStyles.textShadow};
      `;
      
      document.getElementById('previewUserName').style.cssText = style;
      document.getElementById('previewUserNameDesktop').style.cssText = style;
      document.getElementById('previewUserNameResponsive').style.cssText = style;
    }

    // üíæ Save to Firebase
    async function saveToFirebase() {
      try {
        const styleData = {
          userNameStyles: currentStyles,
          updatedAt: Date.now(),
          updatedBy: 'admin@etax.vn'
        };
        
        await db.ref('contentStyles/userInfo').set(styleData);
        
        alert('‚úÖ ƒê√£ l∆∞u styling th√†nh c√¥ng!\n\nThay ƒë·ªïi s·∫Ω ƒë∆∞·ª£c √°p d·ª•ng cho t·∫•t c·∫£ ng∆∞·ªùi d√πng tr√™n h·ªá th·ªëng eTax Mobile.');
        
      } catch (error) {
        console.error('Save error:', error);
        alert('‚ùå C√≥ l·ªói khi l∆∞u. Vui l√≤ng th·ª≠ l·∫°i!');
      }
    }

    // üîÑ Reset styles
    function resetStyles() {
      currentStyles = {
        color: '#333',
        fontSize: '18px',
        marginY: '10px',
        marginX: '20px',
        padding: '10px',
        lineHeight: '1.2',
        fontWeight: '700',
        textDecoration: 'none',
        textShadow: 'none'
      };
      
      // Reset controls
      document.getElementById('marginY').value = 10;
      document.getElementById('marginX').value = 20;
      document.getElementById('padding').value = 10;
      document.getElementById('lineHeight').value = 1.2;
      
      // Reset active states
      document.querySelectorAll('.color-option').forEach(el => el.classList.remove('active'));
      document.querySelector('[data-color="#333"]').classList.add('active');
      
      document.querySelectorAll('.size-btn').forEach(el => el.classList.remove('active'));
      document.querySelector('[data-size="18px"]').classList.add('active');
      
      updatePreview();
    }

    // üöÄ Initialize
    window.onload = function() {
      updatePreview();
      console.log('üé® Content Styling Demo loaded');
    };
  </script>
</body>
</html>