<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Admin Pro - Qu·∫£n l√Ω Website eTAX</title>
    <link rel="stylesheet" href="css/admin-pro.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1><i class="fas fa-cogs"></i> Website Admin Pro</h1>
            <p>Qu·∫£n l√Ω Website eTAX - Qu·∫£n tr·ªã to√†n di·ªán</p>
        </div>
        <div class="header-actions">
            <button class="btn btn-primary" onclick="openProject()" aria-label="M·ªü d·ª± √°n website">
                <i class="fas fa-folder-open"></i> M·ªü D·ª± √°n
            </button>
            <button class="btn btn-secondary" onclick="showHelp()" aria-label="Xem h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng">
                <i class="fas fa-question-circle"></i> H∆∞·ªõng d·∫´n
            </button>
            <button class="btn btn-info" onclick="showMobilePreview()" aria-label="Xem preview tr√™n ƒëi·ªán tho·∫°i">
                <i class="fas fa-mobile-alt"></i> Mobile Preview
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Left Column - Flow Management -->
        <div class="left-column">
            <!-- Project Info -->
            <div class="panel project-info" id="projectInfo">
                <h3><i class="fas fa-info-circle"></i> Th√¥ng tin D·ª± √°n eTAX</h3>
                <div class="project-details">
                    <div class="detail-item">
                        <span class="label">T√™n d·ª± √°n:</span>
                        <span class="value" id="projectName">Ch∆∞a ch·ªçn</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">S·ªë file:</span>
                        <span class="value" id="fileCount">0</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Tr·∫°ng th√°i:</span>
                        <span class="value status-badge" id="projectStatus">Ch∆∞a qu√©t</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Lu·ªìng ch√≠nh:</span>
                        <span class="value" id="mainFlow">Ch∆∞a x√°c ƒë·ªãnh</span>
                    </div>
                </div>
            </div>

            <!-- Flow Manager -->
            <div class="panel flow-manager" id="flowManager">
                <h3><i class="fas fa-project-diagram"></i> Qu·∫£n l√Ω Lu·ªìng Website</h3>
                <div class="flow-controls">
                    <button class="btn btn-primary" onclick="addNewPage()" aria-label="Th√™m trang m·ªõi v√†o lu·ªìng">
                        <i class="fas fa-plus"></i> + Th√™m Trang M·ªõi
                    </button>
                    <button class="btn btn-success" onclick="editFlow()" aria-label="Ch·ªânh s·ª≠a th·ª© t·ª± c√°c trang trong lu·ªìng">
                        <i class="fas fa-edit"></i> Ch·ªânh S·ª≠a Lu·ªìng
                    </button>
                    <button class="btn btn-success" onclick="testFlow()" aria-label="Ki·ªÉm tra lu·ªìng website ho·∫°t ƒë·ªông">
                        <i class="fas fa-play"></i> ‚ñ∫ Test Lu·ªìng
                    </button>
                </div>
                
                <div class="flow-container" id="flowContainer">
                    <!-- Flow pages will be loaded here -->
                    <div class="flow-placeholder">
                        <p>Ch∆∞a c√≥ trang n√†o trong lu·ªìng</p>
                        <p>H√£y ch·ªçn d·ª± √°n ƒë·ªÉ b·∫Øt ƒë·∫ßu</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column - Mobile Preview -->
        <div class="right-column">
            <!-- File Upload -->
            <div class="panel file-upload" id="fileUpload">
                <h3><i class="fas fa-cloud-upload-alt"></i> T·∫£i l√™n D·ª± √°n</h3>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <i class="fas fa-cloud-upload-alt upload-icon"></i>
                        <h4>K√©o th·∫£ th∆∞ m·ª•c d·ª± √°n eTAX v√†o ƒë√¢y</h4>
                        <p>Ho·∫∑c click ƒë·ªÉ ch·ªçn th∆∞ m·ª•c</p>
                        <input type="file" id="folderInput" webkitdirectory directory multiple style="display: none;" 
                               aria-label="Ch·ªçn th∆∞ m·ª•c d·ª± √°n website">
                        <button class="btn btn-primary" onclick="document.getElementById('folderInput').click()" 
                                aria-label="M·ªü h·ªôp tho·∫°i ch·ªçn th∆∞ m·ª•c">
                            <i class="fas fa-folder"></i> Ch·ªçn Th∆∞ m·ª•c eTAX
                        </button>
                    </div>
                </div>
            </div>

            <!-- Mobile Preview -->
            <div class="panel mobile-preview" id="mobilePreview">
                <h3><i class="fas fa-mobile-alt"></i> Mobile Preview - Xem nh∆∞ ƒêi·ªán tho·∫°i Th·∫≠t</h3>
                <div class="device-selector">
                    <button class="device-btn active" data-device="iphone" aria-label="Chuy·ªÉn sang ch·∫ø ƒë·ªô xem iPhone">
                        <i class="fas fa-mobile-alt"></i> iPhone
                    </button>
                    <button class="device-btn" data-device="android" aria-label="Chuy·ªÉn sang ch·∫ø ƒë·ªô xem Android">
                        <i class="fab fa-android"></i> Android
                    </button>
                    <button class="device-btn" data-device="tablet" aria-label="Chuy·ªÉn sang ch·∫ø ƒë·ªô xem Tablet">
                        <i class="fas fa-tablet-alt"></i> Tablet
                    </button>
                </div>
                
                <div class="preview-controls">
                    <button class="btn btn-small" onclick="rotateScreen()" aria-label="Xoay m√†n h√¨nh preview">
                        <i class="fas fa-redo"></i> Xoay m√†n h√¨nh
                    </button>
                    <button class="btn btn-small" onclick="toggleFullscreen()" aria-label="Chuy·ªÉn sang ch·∫ø ƒë·ªô to√†n m√†n h√¨nh">
                        <i class="fas fa-expand"></i> To√†n m√†n h√¨nh
                    </button>
                </div>
                
                <div class="preview-frame" id="previewFrame" role="application" aria-label="Khung xem tr∆∞·ªõc trang web tr√™n thi·∫øt b·ªã di ƒë·ªông">
                    <div class="preview-placeholder">
                        <i class="fas fa-mobile-alt"></i>
                        <p>Ch·ªçn trang ƒë·ªÉ xem Mobile Preview</p>
                        <p>Click v√†o n√∫t 'Xem' ·ªü c√°c trang trong Flow Manager</p>
                        <div class="usage-tips">
                            <h5>M·∫πo s·ª≠ d·ª•ng:</h5>
                            <ul>
                                <li><kbd>Ctrl+1</kbd>: Chuy·ªÉn sang iPhone</li>
                                <li><kbd>Ctrl+2</kbd>: Chuy·ªÉn sang Android</li>
                                <li><kbd>Ctrl+3</kbd>: Chuy·ªÉn sang Tablet</li>
                                <li><kbd>Ctrl+R</kbd>: Xoay m√†n h√¨nh</li>
                                <li><kbd>Ctrl+F</kbd>: To√†n m√†n h√¨nh</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <div class="modal" id="helpModal" role="dialog" aria-labelledby="helpModalTitle" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="helpModalTitle"><i class="fas fa-question-circle"></i> H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</h3>
                <button class="close-btn" onclick="closeModal('helpModal')" aria-label="ƒê√≥ng h·ªôp tho·∫°i h∆∞·ªõng d·∫´n">&times;</button>
            </div>
            <div class="modal-body">
                <h4>üìÅ C√°ch s·ª≠ d·ª•ng:</h4>
                <ol>
                    <li><strong>Ch·ªçn d·ª± √°n:</strong> K√©o th·∫£ th∆∞ m·ª•c website v√†o khu v·ª±c upload</li>
                    <li><strong>Xem lu·ªìng:</strong> Lu·ªìng website s·∫Ω hi·ªÉn th·ªã ·ªü c·ªôt tr√°i</li>
                    <li><strong>Mobile Preview:</strong> Click 'Xem' ƒë·ªÉ xem trang tr√™n ƒëi·ªán tho·∫°i</li>
                    <li><strong>Qu·∫£n l√Ω lu·ªìng:</strong> S·ª≠ d·ª•ng c√°c n√∫t ƒë·ªÉ th√™m/s·ª≠a/x√≥a trang</li>
                </ol>
                
                <h4>üéØ T√≠nh nƒÉng ch√≠nh:</h4>
                <ul>
                    <li>‚úÖ T·ª± ƒë·ªông ph√¢n t√≠ch c·∫•u tr√∫c website</li>
                    <li>‚úÖ Hi·ªÉn th·ªã lu·ªìng tr·ª±c quan</li>
                    <li>‚úÖ Mobile preview ch√≠nh x√°c</li>
                    <li>‚úÖ Qu·∫£n l√Ω lu·ªìng d·ªÖ d√†ng</li>
                    <li>‚úÖ Giao di·ªán ti·∫øng Vi·ªát 100%</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Add New Page Modal -->
    <div class="modal" id="addPageModal" role="dialog" aria-labelledby="addPageModalTitle" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="addPageModalTitle"><i class="fas fa-plus"></i> Th√™m Trang M·ªõi</h3>
                <button class="close-btn" onclick="closeModal('addPageModal')" aria-label="ƒê√≥ng h·ªôp tho·∫°i th√™m trang">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addPageForm">
                    <div class="form-group">
                        <label for="pageName">T√™n trang:</label>
                        <input type="text" id="pageName" name="pageName" required 
                               placeholder="V√≠ d·ª•: about.html" aria-describedby="pageNameHelp">
                        <small id="pageNameHelp">Nh·∫≠p t√™n file HTML (v√≠ d·ª•: about.html)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="pageType">Lo·∫°i trang:</label>
                        <select id="pageType" name="pageType" required aria-describedby="pageTypeHelp">
                            <option value="">Ch·ªçn lo·∫°i trang</option>
                            <option value="required">B·∫Øt bu·ªôc (User ph·∫£i qua)</option>
                            <option value="optional">T√πy ch·ªçn (User c√≥ th·ªÉ b·ªè qua)</option>
                            <option value="admin">Ch·ªâ Admin</option>
                        </select>
                        <small id="pageTypeHelp">Ch·ªçn lo·∫°i trang ƒë·ªÉ x√°c ƒë·ªãnh quy·ªÅn truy c·∫≠p</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="pageDescription">M√¥ t·∫£:</label>
                        <textarea id="pageDescription" name="pageDescription" rows="3" 
                                  placeholder="M√¥ t·∫£ ch·ª©c nƒÉng c·ªßa trang" aria-describedby="pageDescriptionHelp"></textarea>
                        <small id="pageDescriptionHelp">M√¥ t·∫£ ng·∫Øn g·ªçn v·ªÅ ch·ª©c nƒÉng c·ªßa trang</small>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal('addPageModal')">H·ªßy</button>
                        <button type="submit" class="btn btn-primary">Th√™m Trang</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/admin-pro.js"></script>
    <script src="js/flow-manager.js"></script>
    <script src="js/mobile-preview.js"></script>
    <script src="js/content-editor.js"></script>
    <script src="js/clone-tool.js"></script>
    <script src="js/file-analyzer.js"></script>
</body>
</html>
