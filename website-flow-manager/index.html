<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Flow Manager - Qu·∫£n l√Ω Website eTAX</title>
    <link rel="stylesheet" href="css/main.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1><i class="fas fa-sitemap"></i> Website Flow Manager</h1>
            <p>Qu·∫£n l√Ω Website eTAX - Giao di·ªán tr·ª±c quan</p>
        </div>
        <div class="header-actions">
            <button class="btn btn-primary" onclick="openProject()">
                <i class="fas fa-folder-open"></i> M·ªü D·ª± √°n
            </button>
            <button class="btn btn-secondary" onclick="showHelp()">
                <i class="fas fa-question-circle"></i> H∆∞·ªõng d·∫´n
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Project Info Panel -->
        <div class="panel project-info" id="projectInfo" style="display: none;">
            <h3><i class="fas fa-info-circle"></i> Th√¥ng tin D·ª± √°n</h3>
            <div class="project-details">
                <div class="detail-item">
                    <span class="label">T√™n d·ª± √°n:</span>
                    <span class="value" id="projectName">Ch∆∞a ch·ªçn</span>
                </div>
                <div class="detail-item">
                    <span class="label">S·ªë file:</span>
                    <span class="value" id="fileCount">0</span>
                </div>
                <div class="detail-item">
                    <span class="label">Tr·∫°ng th√°i:</span>
                    <span class="value status-badge" id="projectStatus">Ch∆∞a qu√©t</span>
                </div>
            </div>
        </div>

        <!-- File Upload Area -->
        <div class="panel upload-area" id="uploadArea">
            <div class="upload-content">
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <h3>K√©o th·∫£ th∆∞ m·ª•c d·ª± √°n v√†o ƒë√¢y</h3>
                <p>Ho·∫∑c click ƒë·ªÉ ch·ªçn th∆∞ m·ª•c</p>
                <input type="file" id="folderInput" webkitdirectory directory multiple style="display: none;">
                <button class="btn btn-primary" onclick="document.getElementById('folderInput').click()">
                    <i class="fas fa-folder"></i> Ch·ªçn Th∆∞ m·ª•c
                </button>
            </div>
        </div>

        <!-- Flow Diagram -->
        <div class="panel flow-diagram" id="flowDiagram" style="display: none;">
            <h3><i class="fas fa-project-diagram"></i> S∆° ƒë·ªì Lu·ªìng Website</h3>
            <div class="diagram-controls">
                <button class="btn btn-small" onclick="zoomIn()">
                    <i class="fas fa-search-plus"></i> Ph√≥ng to
                </button>
                <button class="btn btn-small" onclick="zoomOut()">
                    <i class="fas fa-search-minus"></i> Thu nh·ªè
                </button>
                <button class="btn btn-small" onclick="resetZoom()">
                    <i class="fas fa-expand-arrows-alt"></i> Reset
                </button>
            </div>
            <div class="diagram-container" id="diagramContainer">
                <canvas id="flowCanvas" width="1200" height="800"></canvas>
            </div>
        </div>

        <!-- File Analysis -->
        <div class="panel file-analysis" id="fileAnalysis" style="display: none;">
            <h3><i class="fas fa-file-code"></i> Ph√¢n t√≠ch File</h3>
            <div class="analysis-tabs">
                <button class="tab-btn active" onclick="showTab('html')">HTML Files</button>
                <button class="tab-btn" onclick="showTab('js')">JavaScript</button>
                <button class="tab-btn" onclick="showTab('css')">CSS Files</button>
                <button class="tab-btn" onclick="showTab('issues')">V·∫•n ƒë·ªÅ</button>
            </div>
            <div class="tab-content" id="tabContent">
                <!-- Tab content will be loaded here -->
            </div>
        </div>

        <!-- Firebase Manager -->
        <div class="panel firebase-manager" id="firebaseManager" style="display: none;">
            <h3><i class="fas fa-fire"></i> Qu·∫£n l√Ω Firebase</h3>
            <div class="firebase-config">
                <div class="config-item">
                    <label>API Key:</label>
                    <input type="text" id="firebaseApiKey" placeholder="Nh·∫≠p Firebase API Key">
                </div>
                <div class="config-item">
                    <label>Project ID:</label>
                    <input type="text" id="firebaseProjectId" placeholder="Nh·∫≠p Project ID">
                </div>
                <div class="config-item">
                    <label>Storage Bucket:</label>
                    <input type="text" id="firebaseStorageBucket" placeholder="Nh·∫≠p Storage Bucket">
                </div>
                <div class="config-actions">
                    <button class="btn btn-success" onclick="saveFirebaseConfig()">
                        <i class="fas fa-save"></i> L∆∞u c·∫•u h√¨nh
                    </button>
                    <button class="btn btn-info" onclick="testFirebaseConnection()">
                        <i class="fas fa-plug"></i> Ki·ªÉm tra k·∫øt n·ªëi
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-tools"></i> C√¥ng c·ª•</h3>
        </div>
        <div class="sidebar-content">
            <button class="sidebar-btn" onclick="showPanel('flowDiagram')">
                <i class="fas fa-project-diagram"></i> S∆° ƒë·ªì lu·ªìng
            </button>
            <button class="sidebar-btn" onclick="showPanel('fileAnalysis')">
                <i class="fas fa-file-code"></i> Ph√¢n t√≠ch file
            </button>
            <button class="sidebar-btn" onclick="showPanel('firebaseManager')">
                <i class="fas fa-fire"></i> Qu·∫£n l√Ω Firebase
            </button>
            <button class="sidebar-btn" onclick="exportProject()">
                <i class="fas fa-download"></i> Xu·∫•t d·ª± √°n
            </button>
        </div>
    </aside>

    <!-- Modals -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-question-circle"></i> H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</h3>
                <button class="close-btn" onclick="closeModal('helpModal')">&times;</button>
            </div>
            <div class="modal-body">
                <h4>üìÅ C√°ch s·ª≠ d·ª•ng:</h4>
                <ol>
                    <li><strong>Ch·ªçn d·ª± √°n:</strong> K√©o th·∫£ th∆∞ m·ª•c website v√†o khu v·ª±c upload</li>
                    <li><strong>Xem s∆° ƒë·ªì:</strong> Click "S∆° ƒë·ªì lu·ªìng" ƒë·ªÉ th·∫•y m·ªëi li√™n k·∫øt gi·ªØa c√°c file</li>
                    <li><strong>Ph√¢n t√≠ch:</strong> Xem tab "V·∫•n ƒë·ªÅ" ƒë·ªÉ t√¨m l·ªói v√† tr∆∞·ªùng tr·ªëng</li>
                    <li><strong>Qu·∫£n l√Ω Firebase:</strong> C·∫•u h√¨nh v√† ki·ªÉm tra k·∫øt n·ªëi database</li>
                </ol>
                
                <h4>ÔøΩÔøΩ T√≠nh nƒÉng ch√≠nh:</h4>
                <ul>
                    <li>‚úÖ T·ª± ƒë·ªông ph√¢n t√≠ch c·∫•u tr√∫c website</li>
                    <li>‚úÖ Hi·ªÉn th·ªã s∆° ƒë·ªì lu·ªìng tr·ª±c quan</li>
                    <li>‚úÖ T√¨m v√† b√°o c√°o v·∫•n ƒë·ªÅ</li>
                    <li>‚úÖ Qu·∫£n l√Ω c·∫•u h√¨nh Firebase</li>
                    <li>‚úÖ Giao di·ªán ti·∫øng Vi·ªát 100%</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/file-analyzer.js"></script>
    <script src="js/flow-diagram.js"></script>
    <script src="js/firebase-manager.js"></script>
</body>
</html>
